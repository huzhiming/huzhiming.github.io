```jsx
import React from 'react'
import { useSelector } from 'react-redux'
const todo = useSelector(state => { // 函数组件中使用reducer 中返回的数据
   console.log(state);
})

export const TodoListItem = props => {
  const todo = useSelector(state => state.todos[props.id])
  return <div>{todo.text}</div>
}
```

```
var str = "adfasd324232sdfas";
console.log(str);
var reg = new RegExp("([a-z]*)(\\d*)([a-z]*)");
var arr = str.match(reg);
console.log(arr[0] + "===" + arr[1] + "===" + arr[2] + "===" + arr[3]);
console.log(RegExp.$1 + "-----" + RegExp.$2 + "----" + RegExp.$3); 
VM28457:2 adfasd324232sdfas
VM28457:5 adfasd324232sdfas===adfasd===324232===sdfas
VM28457:6 adfasd-----324232----sdfas
    
```

```jsx
          const {componentId,extendJson,value} = item;
          // 如果为数值类型
          if (componentId===3) {
            if (extendJson.type===0 || extendJson.type===1) {
              if (extendJson.default.type===1 && !value ) {
                item.value = extendJson.default.value
              }
            }
            if (extendJson.default.type===2) {
              var formulaStr = extendJson.default.value;
              walkLayout(this.props.data as any ,(code,value,node)=>{
                let reg = new RegExp(`\\{${code}\\}`,'g');
                formulaStr=formulaStr.replace(reg, value);
              });
              item.value = eval(formulaStr);




              // let reg = new RegExp(`\\{${code}\\}`,'g');
              // formulaStr=formulaStr.replace(reg, value);
              // console.log('111formulaStr', formulaStr);

              // var formulaStr = extendJson.default.value;
              // var ss = formulaStr.match(/\{[a-zA-Z0-9]*\}|\+|\\-|\*|\//g).map(item=>{
              //   var key = item.replace(/{|}/g,'') // ["A", "+", "B", "+", "C"]
              //   return key;
              // });
              // console.log(ss);
              // item.value = eval(formulaStr);


              // var a = '{A}*{B}';
              // a.match(/\{[a-zA-Z0-9]*\}/g).map(item=>item.replace(/{|}/g,''))
              // var a = '{A}*{B}+{C}';
              // a.match(/\{[a-zA-Z0-9]*\}|\+|\-|\*|\//g)
```



### Todo

- [x] 工作日志平台/登录 tips
- [x] 工作日志平台/引导页
- [x] 工作日志平台/统计数据总览 组件抽象
- [ ] office样式修改
- [ ] 

#### 项目相关

```tsx
// 日志平台
技术栈：umi.js + antd + ts + hooks + dva + rxjs + 
  
react-infinite-scroller 瀑布流

// 项目事情统计接口 和 项目接口查询分页 传参数一致

// 分任务，让把新页面给我们，杨10点可能会面试，让张来协调

'/projectmanage': { // 接口
'/zuul': { // 上传文件

import React, { useState, useEffect } from 'react';
import { connect } from 'dva';
import guide from '@/assets/guide@2x.png';
import { ConnectProps, ConnectState } from '@/models/connect';

// models/person.js的定义
personModel = export default {
  namespace: 'person', // 表示在全局 state 上的 key
  state: { //[] {} 是初始值，在这里是空数组
    showPerson: false
  }, 
  effects: {},
  reducers: {
    openReducer(state, { payload }) {
      if (payload.memberId) {
        return {
          ...state,
          showPerson: true,
          memberId: payload.memberId,
        };
      } 
      return state as PersonModelState;
    },
  },
};
app.model(personModel)

const Comment: React.FC<CommentProps> = props => {
  const { visible, openPerson } = props
  return (
    <div></div>
  )
}

const mapStateToProps = ({ person }: ConnectState) => ({
  visible: person.showPerson
});

const mapDispatchToProps = (dispatch: any) => ({
  openPerson: (memberId: string) => dispatch({ type: 'person/openReducer', payload: { memberId } }),
});

export default connect(mapStateToProps, mapDispatchToProps)(Comment);
  
  
crm
// reducer/>>menuTabs
// 将data 映射到reducer >> menuTabs
this.commonChange('main.menuTabs', data) 
```

工作相关

```
// UI 满新宇 
// 产品 史蓉
// 测试 杜培培

// @冷祥武 @张伟 @王文涛 接口文档更新下吧
```

```bash
# 使用 tree 在控制台生产当前目录树
# 因为实例项目为 js 项目，所以忽略了 node_modules，可根据真实项目选择性忽略文件目录，防止文件树过长
$ tree -I node_modules > tree.text
```



#### 公司通知

```
南京的小伙伴们注意啦！
1、从4月1日开始，正常工作日每天加班到晚上10点的童鞋次日下午四点到六点可到前台领取一张餐券（加班餐券领取凭借钉钉打卡记录，请下班一定记得打卡哦！）4月餐券供应商为春风时刻（坐标在C栋，现在可提供堂食）。
2、  由于疫情影响，2月和3月餐券不再补发，给大家带来不变敬请谅解，谢谢！

```

